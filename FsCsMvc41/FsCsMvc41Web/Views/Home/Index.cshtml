@model FsWeb.Controllers.IndexModel

@{
    Layout = null;
}
<!DOCTYPE html>

<html>
<head>
    <title>Index</title>
@* ReSharper disable CssNotResolved *@
    <style type="text/css">
        line {
            stroke-width: 4;
        }
    </style>
@* ReSharper restore CssNotResolved *@
</head>
<body>
    <div>
        A dangerous maze.  Return to this maze with this <a href="@Url.Action("Index", Model)">peristent url</a>.
    </div>
    
    <svg id="maze" height="@Model.MazeHeight" width="@Model.MazeWidth" xmlns="http://www.w3.org/2000/svg" style="border: green double medium"> 
        <g>
            <circle id="circle" cx="10" cy="10" fill="Green" r="5"></circle>
        </g>
    </svg>

    <script type="text/javascript" src="~/Scripts/jquery-1.6.4-vsdoc.js"></script>
    <script src="http://d3js.org/d3.v2.js"></script>
    <script type="text/javascript">
        var all_walls = [ 
            @foreach (var wall in Model.Maze)
           {
               <text>{p1:{x:@wall.p1.x,y:@wall.p1.y},p2:{x: @wall.p2.x,y:@wall.p2.y}},</text>
           }
        ];
    </script>
    <script type="text/javascript" src="~/Scripts/script.js"></script>
</body>
</html>
